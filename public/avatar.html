<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantalla LED - Avatar</title>
    <script src="config.js"></script>
    <link rel="stylesheet" href="css/avatar.css">
</head>
<body>
    <div class="connection-indicator" id="connectionIndicator"></div>
    
    <!-- Panel de configuraci칩n secreto (P para mostrar/ocultar) -->
    <div class="config-panel" id="configPanel" style="display: none;">
        <h3>丘뙖잺 Configuraci칩n de Generaci칩n</h3>
        <div class="config-controls">
            <div class="config-group">
                <label>Flux Guidance: <span id="fluxGuidanceValue">3.5</span></label>
                <input type="range" id="fluxGuidanceSlider" min="2.0" max="5.0" step="0.1" value="3.5">
            </div>
            <div class="config-group">
                <label>Fuerza San Juan: <span id="fuerzaSanJuanValue">0.55</span></label>
                <input type="range" id="fuerzaSanJuanSlider" min="0.2" max="1.0" step="0.05" value="0.55">
            </div>
            <div class="config-group">
                <label>Fuerza Solarpunk: <span id="fuerzaSolarpunkValue">0.8</span></label>
                <input type="range" id="fuerzaSolarpunkSlider" min="0.2" max="1.2" step="0.05" value="0.8">
            </div>
            <div class="config-group">
                <label>Steps: <span id="stepsValue">20</span></label>
                <input type="range" id="stepsSlider" min="15" max="30" step="1" value="20">
            </div>
            <div class="config-group">
                <label>Variabilidad: <span id="variabilityValue">0.15</span></label>
                <input type="range" id="variabilitySlider" min="0.05" max="0.3" step="0.05" value="0.15">
            </div>
        </div>
        <div class="config-actions">
            <button id="resetConfigBtn">游댃 Resetear</button>
            <button id="saveConfigBtn">游 Guardar</button>
        </div>
        <div class="config-hotkey">Presiona P para ocultar</div>
    </div>
    
    <div class="led-screen">
        <!-- Marco circular principal - SIEMPRE VISIBLE -->
        <div class="main-circle-frame">
            <!-- L칤nea circular giratoria - SIEMPRE VISIBLE -->
            <svg class="rotating-arc" viewBox="0 0 200 200">
                <path d="M 100,10 A 90,90 0 1,1 100,190" 
                      fill="none" 
                      stroke="#00D4FF" 
                      stroke-width="3"
                      stroke-linecap="round"
                      style="filter: drop-shadow(0 0 5px rgba(0, 212, 255, 0.7)) drop-shadow(0 0 10px rgba(0, 212, 255, 0.4));" />
            </svg>
            
            <!-- Barra de progreso (solo visible en loading) -->
            <svg class="progress-arc" id="progressArc" viewBox="0 0 200 200">
                <circle cx="100" cy="100" r="75" 
                        stroke-dasharray="471.24" 
                        stroke-dashoffset="471.24"
                        id="progressCircle" />
            </svg>
    

            <!-- Contenedor de contenido - cambia seg칰n el estado -->
            <div class="content-circle">
                <!-- Video Loop -->
                <div class="video-content active" id="videoContent">
                    <video id="loopVideo" autoplay loop muted playsinline preload="auto">
                        <source src="video/loop.mp4" type="video/mp4">
                        Tu navegador no soporta video HTML5.
                    </video>
                </div>
                
                <!-- Loading -->
                <div class="thanks-content" id="loadingContent">
                    <h2>GENERANDO<br>IMAGEN</h2>
                </div>
                
                <!-- Imagen Generada -->
                <div class="image-content" id="imageContent">
                    <img id="generatedImage" src="" alt="Imagen generada">
                </div>
                
                <!-- Agradecimiento -->
                <div class="thanks-content" id="thanksContent">
                    <h1>춰GRACIAS POR PARTICIPAR!</h1>
                    <p>SAN JUAN FUTURO</p>
                </div>
                
                <!-- Galer칤a -->
                <div class="gallery-content" id="galleryContent">
                    <div class="gallery-grid" id="galleryGrid">
                        <!-- Im치genes se cargan din치micamente -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <script src="background.js"></script>
    <script src="js/mega-prompt-generator.js"></script>
    <script src="js/avatar.js"></script>
</body>
</html>
